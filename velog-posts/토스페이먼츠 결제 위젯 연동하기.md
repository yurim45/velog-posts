<h3 id="ë“¤ì–´ê°€ë©°">ë“¤ì–´ê°€ë©°,</h3>
<p>ìš°ë¦¬ íšŒì‚¬ ì„œë¹„ìŠ¤ëŠ” í˜„ì¬ êµ­ë‚´ì—ì„œ ì„œë¹„ìŠ¤í•˜ê³  ìˆëŠ”ë° ê¸€ë¡œë²Œ ëŸ°ì¹­ ì¤€ë¹„ì¤‘ì´ë¼ ê·¸ì— ë§ì¶° ê²°ì œ ì„œë¹„ìŠ¤ë„ í•´ì™¸ê²°ì œê°€ ê°€ëŠ¥í•˜ë„ë¡ ë°”ê¾¸ëŠ” ìŠ¤í”„ë¦°íŠ¸ê°€ ì§„í–‰ëë‹¤ğŸ’ª</p>
<p>í•´ì™¸ê²°ì œëŠ” í† ìŠ¤í˜ì´ë¨¼ì¸ ë¥¼ ë¶™íˆë©´ ëê³  ê±°ì˜ ë‹¤ ì™„ì„±ë˜ì–´ê°ˆ ì¦ˆìŒ..
êµ­ë‚´ê²°ì œë„ í† ìŠ¤í˜ì´ë¨¼ì¸ ë¡œ ë³€ê²½í•´ì•¼í•œë‹¤ëŠ” ê²ƒì„ ì•Œì•˜ë‹¤..ğŸ˜³ğŸ˜³(ì§€ê¸ˆì€ ì•„ì„í¬íŠ¸..)</p>
<p>êµ¬í˜„í–ˆë˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ê³ ì ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê³ ..
ì•„ì„í¬íŠ¸ì—ì„œ ì ì§„ì ìœ¼ë¡œ í† ìŠ¤í˜ì´ë¨¼ì¸ ë¡œ ì „í™˜í•˜ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•˜ê³ ..
ê·¸ ê³¼ì •ì—ì„œ í•´ì™¸ê²°ì œì— í˜ì´íŒ” + í•´ì™¸ì¹´ë“œë¥¼ ì¶”ê°€í•˜ëŠ” ê³¼ì •ì´.. ìƒê°ë³´ë‹¤ ìˆœíƒ„í•˜ì§€ëŠ” ì•Šì•˜ë˜..ğŸ« ğŸ« (ì´ ê³¼ì •ì—ì„œ í† ìŠ¤í˜ì´ë¨¼ì¸ ì—ì„œ ìš´ì˜í•˜ëŠ” ë””ì½”ì—ì„œ ë§ì€ ë„ì›€ì„ ë°›ì•˜ë‹¤!!ğŸ‘ğŸ‘)</p>
<p>ì–´ì°Œì €ì°Œ QAê¹Œì§€ ì§„í–‰í–ˆìœ¼ë‚˜.. ê°€ì¥ ì¤‘ìš”í•œ ê³„ì•½ì´ ì™„ë£Œë˜ì§€ ì•Šì•„.. ê²°êµ­ ì™„ì„±ëœ ì½”ë“œëŠ”.. PRë§Œ ì˜¬ë¼ê°€ìˆëŠ” ìƒíƒœë‹¤..ğŸ˜•
(ê³„ì•½ ì‹œì‘í•œê±´ 5ì›”ë§ì¸ë°.. 8ì›”ì´ˆì¸ ì§€ê¸ˆë„.. ì´ ì½”ë“œë¥¼ ì§ˆì§ˆ ëŒê³  ê°€ê³  ìˆ..ğŸ˜®â€ğŸ’¨ğŸ˜®â€ğŸ’¨)</p>
<p>ì¼ë‹¨, ì—¬ê¸°ê¹Œì§€ ì§„í–‰í•œ ë‚´ìš©ì„ ë˜.. ê¸°ë¡í•´ë³´ì!!!!!ğŸ”¥ğŸ”¥</p>
<hr />
<h2 id="í† ìŠ¤í˜ì´ë¨¼ì¸ -ê²°ì œ-ìœ„ì ¯-ì—°ë™í•˜ê¸°"><a href="https://developers.tosspayments.com/?utm_source=developers-tosspayments&amp;utm_medium=velog">í† ìŠ¤í˜ì´ë¨¼ì¸  ê²°ì œ ìœ„ì ¯</a> ì—°ë™í•˜ê¸°</h2>
<p><img alt="" src="https://velog.velcdn.com/images/april_5/post/97f1cb36-d280-4956-9f38-4cec91b312e6/image.png" /></p>
<h3 id="1-sdk-ì„¤ì¹˜">1. <a href="https://docs.tosspayments.com/reference/widget-sdk#%ED%8C%A8%ED%82%A4%EC%A7%80-%EB%A7%A4%EB%8B%88%EC%A0%80%EB%A1%9C-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0">SDK ì„¤ì¹˜</a></h3>
<pre><code class="language-bash">yarn add @tosspayments/payment-widget-sdk
# ë˜ëŠ”
npm i @tosspayments/payment-widget-sdk</code></pre>
<h3 id="2-ê²°ì œ-ìœ„ì ¯-ë„ìš°ê¸°">2. ê²°ì œ ìœ„ì ¯ ë„ìš°ê¸°</h3>
<p><img alt="" src="https://velog.velcdn.com/images/april_5/post/7e1bde9b-eaa9-4fb1-bbe6-8affff7335b7/image.png" /></p>
<ul>
<li>SDK íŒ¨í‚¤ì§€ì—ì„œ <code>loadPaymentWidget</code>ë¡œ <code>PaymentWidget</code>ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•˜ê¸°</li>
<li><code>loadPaymentWidget</code> ëŠ”  <code>clientKey</code>ë‘ <code>customerKey</code>ë¥¼ íŒŒë¼ë¯¸í„°ëŠ” ë°›ëŠ”ë°<ul>
<li><code>clientKey</code>ëŠ” ìœ„ì ¯ì„ ë Œë”ë§í•˜ëŠ” ìƒì ì„ ì‹ë³„í•˜ê³ </li>
<li><code>customerKey</code>ë¡œ ê²°ì œ ê³ ê°ì„ ì‹ë³„í•œë‹¤<ul>
<li>ë¹„íšŒì› ê²°ì œë¼ë©´ <code>@tosspayments/payment-widget-sdk</code>ì—ì„œ <code>ANONYMOUS</code>ë¥¼ ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë°, ìš°ë¦¬ ì„œë¹„ìŠ¤ëŠ” ë¡œê·¸ì¸ ì—†ì´ëŠ” ê²°ì œí•  ìˆ˜ ì—†ê¸°ì— ë³„ë„ë¡œ ì§€ì •í•˜ì§„ ì•Šì•˜ë‹¤</li>
</ul>
</li>
</ul>
</li>
<li>ë Œë”ë§ í•  ìœ„ì¹˜ì— <code>&lt;div id=&quot;payment-widget&quot; /&gt;</code>ë¥¼ ì¶”ê°€í•˜ê¸°</li>
<li><code>loadPaymentWidget()</code>ì„ í˜¸ì¶œí•´ì„œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³ </li>
<li><code>renderPaymentMethods()</code>ë¡œ ê²°ì œ ìœ„ì ¯ì„ ë Œë”ë§í•˜ê³  <code>useRef</code>ë¥¼ ì‚¬ìš©í•´ì„œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì €ì¥í•˜ê¸°<ul>
<li>ìš°ë¦¬ ì„œë¹„ìŠ¤ëŠ” ê²°ì œ ìœ„ì ¯ì„ êµ­ë‚´/í•´ì™¸ ê²°ì œì— ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ”ë°, í•´ì™¸ê²°ì œë„ êµ¬í˜„í•´ì•¼ í–ˆê¸°ì— <code>currency</code>ì™€ <code>country</code>ë¥¼ ì¶”ê°€í–ˆë‹¤<ul>
<li>ë¡œê·¸ì¸ ìœ ì €ì— ë”°ë¼ í•´ë‹¹í•˜ëŠ” ê°’ì„ ì„œë²„ì—ì„œ ë°›ì•„ì˜¨ë‹¤</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code class="language-ts">import React, { useEffect, useRef } from &quot;react&quot;
import { loadPaymentWidget, PaymentWidgetInstance } from &quot;@tosspayments/payment-widget-sdk&quot;
import useTranslation from 'next-translate/useTranslation';


const TossPayments = () =&gt; {
  const { t } = useTranslation();
  const paymentWidgetRef = useRef&lt;PaymentWidgetInstance | null&gt;(null);
  const paymentMethodsWidgetRef = useRef&lt;ReturnType&lt;
    PaymentWidgetInstance['renderPaymentMethods']
  &gt; | null&gt;(null);

  useEffect(() =&gt; {
    const TOSS_CLIENT_KEY = isDevelopment()
            ? process.env.NEXT_PUBLIC_TOSS_CLIENT_KEY_DEV
            : process.env.NEXT_PUBLIC_TOSS_CLIENT_KEY

    (async () =&gt; {
      const paymentWidget = await loadPaymentWidget(
        TOSS_CLIENT_KEY,
        String(userData?.getUser.userId),
      );

      const paymentMethodsWidget = paymentWidget.renderPaymentMethods(
        '#payment-widget',
        {
          value: paymentInfo.price,
          currency: listCoin?.listInappCoin[0].currency, // 'USD' í•´ì™¸ê²°ì œëŠ” í•„ìˆ˜,
          country: listCoin?.listInappCoin[0].countryCode, //'US' í•´ì™¸ê²°ì œëŠ” í•„ìˆ˜,
        },
      );

      paymentWidgetRef.current = paymentWidget; // ê²°ì œ ìœ„ì ¯ ì¸ìŠ¤í„´ìŠ¤ ì €ì¥
      paymentMethodsWidgetRef.current = paymentMethodsWidget; // ê²°ì œ ë°©ë²•ì„ ê°€ì ¸ì˜¤ê±°ë‚˜ ì»¤ìŠ¤í…€ ê²°ì œ ìˆ˜ë‹¨ì„ ì¶”ê°€í•  ë•Œ ì‚¬ìš©

    })();
  }, []);


  return (
    &lt;section css={container}&gt;
        &lt;div id=&quot;payment-widget&quot; /&gt;
        &lt;button type='button' onClick={onRequestPayment}&gt;{`${t('payment_screen_description_price_monetary_unit', {
            value: paymentInfo?.price ?? 0,
          })} ${t('payment_screen_button_pay')}`}&lt;/button&gt;
    &lt;/section&gt;
  );
};</code></pre>
<h3 id="3-ê²°ì œí•˜ëŠ”-í•¨ìˆ˜-êµ¬í˜„í•˜ê¸°">3. ê²°ì œí•˜ëŠ” í•¨ìˆ˜ êµ¬í˜„í•˜ê¸°</h3>
<ul>
<li><code>ref</code>ì— ì €ì¥í–ˆë˜ ê²°ì œ ìœ„ì ¯ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ê²°ì œë¥¼ ìš”ì²­í•˜ëŠ”  <a href="https://docs.tosspayments.com/reference/widget-sdk#requestpayment%EA%B2%B0%EC%A0%9C-%EC%A0%95%EB%B3%B4">requestPayment()</a>ë¡œ ê²°ì œ í•¨ìˆ˜ êµ¬í˜„í•˜ê¸°</li>
<li>ê²°ì œ ì„±ê³µí•˜ë©´ URLì˜ ë„¤ê°€ì§€ íŒŒë¼ë¯¸í„°ê°€ ì „ë‹¬ë˜ëŠ”ë° ì¿¼ë¦¬ë¥¼ ì¶”ê°€í–ˆë‹¤<ul>
<li><code>http://{ORIGIN}/complete/tosspayments?paymentType=NORMAL&amp;orderId=RUxTyT8ajvSX2xDXKnybC&amp;amount=664.98</code><ul>
<li><code>paymentKey</code>: ê²°ì œì˜ í‚¤ê°’.</li>
<li><code>orderId</code>: ìƒì ì—ì„œ ë°œê¸‰í•œ ì£¼ë¬¸ ê±´ ID.Â <a href="https://docs.tosspayments.com/reference/widget-sdk#requestpayment%EA%B2%B0%EC%A0%9C-%EC%A0%95%EB%B3%B4">requestPayment()</a>ì— ë‹´ì•„ ë³´ë‚¸ ê°’.</li>
<li><code>amount</code>: ì‹¤ì œë¡œ ê²°ì œëœ ê¸ˆì•¡</li>
<li><code>paymentType</code>: ê²°ì œ ìœ í˜•.Â <code>NORMAL | BRANDPAY</code></li>
</ul>
</li>
</ul>
</li>
<li>ê²°ì œ ì‹¤íŒ¨ì‹œì—ë„ ì¿¼ë¦¬ì— íŒŒë¼ë¯¸í„°ê°€ ì „ë‹¬ëœë‹¤<ul>
<li><code>https://{ORIGIN}/complete/tosspayments?code={ERROR_CODE}&amp;message={ERROR_MESSAGE}&amp;orderId={ORDER_ID}</code></li>
<li>ì—ëŸ¬ ì½”ë“œëŠ” <a href="https://docs.tosspayments.com/reference/error-codes#failurl%EB%A1%9C-%EC%A0%84%EB%8B%AC%EB%90%98%EB%8A%94-%EC%97%90%EB%9F%AC">ì—¬ê¸°ì„œ</a> í™•ì¸í•  ìˆ˜ ìˆë‹¤</li>
<li><img alt="" src="https://velog.velcdn.com/images/april_5/post/f8781596-413c-4b28-b29e-11deff8edf45/image.png" /></li>
</ul>
</li>
</ul>



<pre><code class="language-ts">  const onRequestPayment = async () =&gt; {
    // ê²°ì œ ì„±ê³µí•˜ë©´ í•„ìš”í•œ ì¿¼ë¦¬ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤
    const successQuery = `price=${paymentInfo?.price}&amp;coin=${paymentInfo?.amount}&amp;method=${selectedPaymentMethod}`;
    const successUrl = `${window.location.origin}/payment/complete/toss_payments?${successQuery}`
    const failUrl = `${window.location.origin}/payment/complete/toss_payments`

    await paymentWidgetRef.current?.requestPayment({
      orderId: paymentInfo?.orderId,
      orderName: paymentInfo?.name,
      successUrl,
      failUrl,
      customerEmail: userData?.getUser.email,
      customerName: userData?.getUser.name,
      products: [
        {
          name: paymentInfo?.name,
          quantity: 1,
          unitAmount: paymentInfo?.price,
          currency: listCoin?.listInappCoin[0].currency,
          description: userData?.getUser.name,
        },
      ],
    });
  };</code></pre>
<h3 id="4-ì»¤ìŠ¤í…€-ê²°ì œìˆ˜ë‹¨-ì¶”ê°€í•˜ê¸°">4. <a href="https://docs.tosspayments.com/guides/payment-widget/pro/custom">ì»¤ìŠ¤í…€ ê²°ì œìˆ˜ë‹¨</a> ì¶”ê°€í•˜ê¸°</h3>
<ul>
<li>ê²°ì œ ìœ„ì ¯ì— ì¶”ê°€ë¡œ ê²°ì œ ê²½ë¡œë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤</li>
<li>ìƒì  ê´€ë¦¬ìì—ì„œ UIë¥¼ ì¶”ê°€í•œë‹¤<ul>
<li><img alt="" src="https://velog.velcdn.com/images/april_5/post/97a2d6a0-ffbf-48ef-bca9-62bb855b7fe2/image.png" /></li>
</ul>
</li>
<li>ì„¤ì •í•œ keyê°’ ê¸°ì¤€ìœ¼ë¡œ ê²°ì œ ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤<ul>
<li>í•´ì™¸ê²°ì œë¥¼ ì§€ì›í•  ë•Œ í˜ì´íŒ” ì™¸ì— <a href="https://docs.tosspayments.com/guides/payment/international-window">ë‹¤êµ­ì–´ ê²°ì œì°½</a>ì„ ë„ìš°ê¸° ìœ„í•œ ì½”ë“œë¥¼ ì¶”ê°€í–ˆë‹¤
<img alt="" src="https://velog.velcdn.com/images/april_5/post/61e9384a-a14d-4b38-bcd9-0ca78797c9f3/image.png" /></li>
</ul>
</li>
</ul>
<pre><code class="language-ts">  paymentMethodsWidgetRef.current?.on('customRequest', paymentMethodKey =&gt; {
      if (paymentMethodKey === 'card') { // ìƒì ê´€ë¦¬ìì—ì„œ ì„¤ì •í•œ keyê°’
        // ì»¤ìŠ¤í…€ ê²°ì œìˆ˜ë‹¨ìœ¼ë¡œ ê²°ì œí•˜ëŠ” ì½”ë“œ
      }
})</code></pre>
<ul>
<li>ì¶”ê°€í–ˆë‹¤ê°€.. 1~2ê°œì›” ë’¤ì— í˜ì´íŒ”ì—ì„œ í•´ì™¸ì¹´ë“œë„ ì§€ì›ë  ì˜ˆì •ì´ë¼ê³  ë“¤ì–´ì„œ ìš°ì„  í˜ì´íŒ” ë¨¼ì € ì˜¤í”ˆí•˜ê¸°ë¡œ í–ˆë‹¤!</li>
</ul>



<hr />
<p>êµ¬í˜„ì€ ëë‚¬ê³ .. QAë„ ë§ˆì³¤ëŠ”ë°.. í† ìŠ¤í˜ì´ë¨¼ì¸ ì™€ ê³„ì•½ì´ ì•„ì§ ì§„í–‰ì¤‘ì´ë¼.. ì‹¤ì œ ê²°ì œê°€ ì§„í–‰ë˜ëŠ” ê²ƒì€ ì¡°ê¸ˆ ë” ì´í›„ê°€ ë  ê²ƒ ê°™ë‹¤..ğŸ« ğŸ« </p>